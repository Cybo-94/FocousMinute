<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBO - FocousMinute</title>
    <link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://i.imgur.com/nrOMBEp.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="https://i.imgur.com/nrOMBEp.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://i.imgur.com/nrOMBEp.png" />
    <link rel="shortcut icon" href="https://i.imgur.com/nrOMBEp.png" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            overflow: hidden;
            background: url('https://i.imgur.com/AE0Wwxh.jpeg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: #fff;
        }

        /* Background overlay for better readability */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
            pointer-events: none;
        }

        .container {
            position: relative;
            z-index: 2;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 30px;
        }

        /* Top Bar */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .mode-toggle {
            display: flex;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 8px;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .mode-btn {
            padding: 10px 25px;
            border: none;
            background: transparent;
            color: #fff;
            cursor: pointer;
            border-radius: 20px;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .mode-btn.active {
            background: rgba(255, 255, 255, 0.25);
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.2);
        }

        .mode-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .settings-btn {
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .settings-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.1);
        }

        /* Center Clock/Pomodoro Section */
        .center-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            margin-top: -250px;
        }

        .clock-container, .pomodoro-container {
            padding: 40px 60px;
            border-radius: 30px;
            text-align: center;
            transition: all 0.4s ease;
        }

        .pomodoro-container {
            display: none;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .greeting {
            font-size: 28px;
            font-weight: 300;
            margin-bottom: 20px;
            opacity: 0.9;
            letter-spacing: 1px;
        }

        .clock {
            font-size: 120px;
            font-weight: 400;
            letter-spacing: 5px;
            margin: 20px 0;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            font-variant-numeric: tabular-nums;
            font-family: 'Minecraft', 'Segoe UI', monospace;
        }

        .quote {
            font-size: 18px;
            font-weight: 300;
            font-style: italic;
            opacity: 0.8;
            margin-top: 30px;
            max-width: 600px;
            line-height: 1.6;
            transition: opacity 0.5s ease;
        }

        /* Pomodoro Timer */
        .timer-display {
            font-size: 120px;
            font-weight: 400;
            letter-spacing: 5px;
            margin: 20px 0;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            font-family: 'Minecraft', 'Segoe UI', monospace;
        }

        .timer-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .timer-btn {
            padding: 12px 30px;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .timer-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .timer-presets {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .preset-btn {
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .preset-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .session-counter {
            margin-top: 20px;
            font-size: 14px;
            opacity: 0.7;
        }

        .progress-ring {
            display: none;
        }

        /* Bottom Bar */
        .bottom-bar {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .date-container {
            padding: 12px 20px;
            text-align: left;
        }

        .date {
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .day {
            font-size: 13px;
            opacity: 0.8;
            margin-top: 3px;
            font-weight: 500;
        }

        /* Settings Modal */
        .settings-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .settings-content {
            background: rgba(20, 20, 30, 0.95);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .settings-title {
            font-size: 28px;
            font-weight: 300;
        }

        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 30px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .close-btn:hover {
            opacity: 1;
        }

        .setting-group {
            margin-bottom: 30px;
        }

        .setting-label {
            display: block;
            margin-bottom: 10px;
            font-size: 14px;
            opacity: 0.9;
            font-weight: 500;
        }

        .setting-input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .setting-input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .setting-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .toggle-switch {
            display: flex;
            gap: 10px;
        }

        .toggle-option {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .toggle-option.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .toggle-option:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            border: none;
        }

        .apply-btn {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            color: #fff;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .apply-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        /* Keyboard shortcuts hint */
        .shortcuts-hint {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            padding: 8px 15px;
            border-radius: 15px;
            font-size: 11px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 3;
        }

        .shortcuts-hint.show {
            opacity: 0.7;
        }

        /* Fullscreen mode */
        .fullscreen-btn {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: #fff;
            cursor: pointer;
            font-size: 12px;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .fullscreen-btn:hover {
            opacity: 1;
            background: rgba(255, 255, 255, 0.2);
        }

        /* Focus mode */
        body.focus-mode .top-bar,
        body.focus-mode .bottom-bar {
            opacity: 0;
            pointer-events: none;
        }

        body.focus-mode .shortcuts-hint {
            opacity: 0;
        }

        /* Scrollbar styling */
        .settings-content::-webkit-scrollbar {
            width: 8px;
        }

        .settings-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .settings-content::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .settings-content::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* Additional UI improvements */
        .setting-description {
            font-size: 12px;
            opacity: 0.6;
            margin-top: 5px;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Expandable sections */
        .expand-btn {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #fff;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-align: left;
        }

        .expand-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 10px;
        }

        .expandable-content.open {
            max-height: 500px;
        }

        /* Keyboard shortcuts */
        .shortcut-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .shortcut-key {
            background: rgba(255, 255, 255, 0.15);
            padding: 5px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            min-width: 60px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .shortcut-desc {
            font-size: 13px;
            opacity: 0.9;
        }

        /* Credits box */
        .credits-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .credits-title {
            font-size: 11px;
            text-transform: uppercase;
            opacity: 0.6;
            margin-bottom: 8px;
            letter-spacing: 1px;
        }

        .credits-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .credits-tagline {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 15px;
            font-style: italic;
        }

        .credits-contact {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .credits-contact a {
            color: #4ecca3;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .credits-contact a:hover {
            opacity: 0.7;
        }

        .credits-footer {
            font-size: 11px;
            opacity: 0.6;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <div class="overlay"></div>
    
    <div class="container">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="mode-toggle">
                <button class="mode-btn active" onclick="switchMode('clock')">Clock</button>
                <button class="mode-btn" onclick="switchMode('pomodoro')">Pomodoro</button>
            </div>
            <button class="settings-btn" onclick="openSettings()">‚öôÔ∏è Settings</button>
        </div>

        <!-- Center Content -->
        <div class="center-content">
            <!-- Clock Section -->
            <div class="clock-container" id="clockSection">
                <div class="greeting" id="greeting">Good Morning</div>
                <div class="clock" id="clock">00:00:00</div>
                <div class="quote" id="quote">Loading quote...</div>
            </div>

            <!-- Pomodoro Section -->
            <div class="pomodoro-container" id="pomodoroSection">
                <div class="greeting">Focus Time</div>
                <svg class="progress-ring">
                    <circle class="progress-ring-circle" cx="200" cy="200" r="180"></circle>
                    <circle class="progress-ring-progress" cx="200" cy="200" r="180" id="progressCircle"></circle>
                </svg>
                <div class="timer-display" id="timerDisplay">25:00</div>
                <div class="timer-controls">
                    <button class="timer-btn" onclick="startTimer()">‚ñ∂Ô∏è Start</button>
                    <button class="timer-btn" onclick="pauseTimer()">‚è∏Ô∏è Pause</button>
                    <button class="timer-btn" onclick="resetTimer()">‚Üª Reset</button>
                </div>
                <div class="timer-presets">
                    <button class="preset-btn" onclick="setPreset(25)">25 min</button>
                    <button class="preset-btn" onclick="setPreset(5)">5 min</button>
                    <button class="preset-btn" onclick="setPreset(15)">15 min</button>
                    <button class="preset-btn" onclick="customTimer()">Custom</button>
                </div>
                <div class="session-counter" id="sessionCounter">Sessions today: 0</div>
            </div>
        </div>

        <!-- Bottom Bar -->
        <div class="bottom-bar">
            <div class="date-container">
                <div class="date" id="date">January 1, 2024</div>
                <div class="day" id="day">Monday</div>
            </div>
            <button class="fullscreen-btn" onclick="toggleFullscreen()">‚õ∂ Fullscreen (F11)</button>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <div class="settings-header">
                <h2 class="settings-title">Settings</h2>
                <button class="close-btn" onclick="closeSettings()">√ó</button>
            </div>

            <!-- Time Format -->
            <div class="setting-group">
                <label class="setting-label">Time Format</label>
                <div class="toggle-switch">
                    <div class="toggle-option active" onclick="setTimeFormat('24')">24 Hour</div>
                    <div class="toggle-option" onclick="setTimeFormat('12')">12 Hour</div>
                </div>
            </div>

            <!-- Show Seconds -->
            <div class="setting-group">
                <label class="setting-label">Display Options</label>
                <div class="checkbox-container" onclick="toggleSeconds()">
                    <input type="checkbox" class="checkbox" id="showSecondsCheck" checked>
                    <span>Show seconds on clock</span>
                </div>
            </div>

            <!-- Clock Font Size -->
            <div class="setting-group">
                <label class="setting-label">Clock Font Size: <span id="fontSizeValue">120px</span></label>
                <input type="range" class="slider" id="fontSizeSlider" min="80" max="180" value="120" oninput="updateFontSize(this.value)">
            </div>

            <!-- Box Opacity -->
            <div class="setting-group">
                <label class="setting-label">Background Box Opacity: <span id="opacityValue">50%</span></label>
                <input type="range" class="slider" id="opacitySlider" min="0" max="100" value="50" oninput="updateOpacity(this.value)">
            </div>

            <!-- Quote Rotation Speed -->
            <div class="setting-group">
                <label class="setting-label">Quote Rotation</label>
                <div class="toggle-switch">
                    <div class="toggle-option" onclick="setQuoteSpeed(30)">30s</div>
                    <div class="toggle-option active" onclick="setQuoteSpeed(60)">1min</div>
                    <div class="toggle-option" onclick="setQuoteSpeed(300)">5min</div>
                    <div class="toggle-option" onclick="setQuoteSpeed(0)">Manual</div>
                </div>
            </div>

            <!-- Pomodoro Sound -->
            <div class="setting-group">
                <label class="setting-label">Pomodoro Notifications</label>
                <div class="checkbox-container" onclick="toggleSound()">
                    <input type="checkbox" class="checkbox" id="soundCheck" checked>
                    <span>Play sound when timer ends</span>
                </div>
                <div class="checkbox-container" onclick="toggleAutoStart()" style="margin-top: 10px;">
                    <input type="checkbox" class="checkbox" id="autoStartCheck">
                    <span>Auto-start break timer</span>
                </div>
            </div>

            <!-- Keyboard Shortcuts -->
            <div class="setting-group">
                <button class="expand-btn" onclick="toggleShortcuts()">
                    ‚å®Ô∏è Keyboard Shortcuts <span id="shortcutArrow">‚ñº</span>
                </button>
                <div class="expandable-content" id="shortcutsContent">
                    <div class="shortcut-item">
                        <span class="shortcut-key">S</span>
                        <span class="shortcut-desc">Open Settings</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">F</span>
                        <span class="shortcut-desc">Toggle Focus Mode</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Space</span>
                        <span class="shortcut-desc">Start/Pause Timer (in Pomodoro mode)</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="shortcut-key">Esc</span>
                        <span class="shortcut-desc">Close Settings</span>
                    </div>
                </div>
            </div>

            <!-- Credits -->
            <div class="setting-group">
                <button class="expand-btn" onclick="toggleCredits()">
                    ‚ÑπÔ∏è Credits <span id="creditArrow">‚ñº</span>
                </button>
                <div class="expandable-content" id="creditsContent">
                    <div class="credits-box">
                        <p class="credits-title">Made by</p>
                        <p class="credits-name">Coolest Young Brain Online üåêüß†</p>
                        <p class="credits-tagline">Crafted in India with ‚ù§Ô∏è and a curious mind.</p>
                        <p class="credits-contact">Contact: <a href="mailto:cybo.buisness@gmail.com">cybo.buisness@gmail.com</a></p>
                        <p class="credits-footer">¬© 2025 CYBO. All rights reserved.</p>
                    </div>
                </div>
            </div>

            <button class="apply-btn" onclick="applySettings()">Apply Settings</button>
    </div>

    <!-- Keyboard Shortcuts Hint -->
    <div class="shortcuts-hint" id="shortcutsHint">
        Press 'S' for Settings ‚Ä¢ 'F' for Focus Mode ‚Ä¢ Space to Start/Pause Timer
    </div>

    <script>
        // Motivational Quotes
        const quotes = [
                        "The future depends on what you do today.",
            "Success is built through small efforts repeated with consistency.",
            "Don‚Äôt watch the clock; stay focused and keep moving forward.",
            "Great work happens when effort meets purpose.",
            "Believe in your ability to learn and grow.",
            "Hard work outlasts talent when talent lacks discipline.",
            "Your limits exist only where effort stops.",
            "Growth begins the moment comfort ends.",
            "Dream it clearly, work for it daily.",
            "Success is earned through action, not waiting.",
            "The harder you work, the more meaningful success becomes.",
            "Think bigger, act stronger, stay consistent.",
            "Stop only when the task is finished.",
            "Start your day determined and end it satisfied.",
            "Do something today your future self will appreciate.",
            "Small actions create powerful outcomes.",
            "Consistency turns effort into achievement.",
            "Focus today shapes tomorrow‚Äôs results.",
            "Progress happens when excuses disappear.",
            "Effort repeated daily creates momentum.",
            "Success grows when discipline becomes habit.",
            "One focused session can change your direction.",
            "Patience gives effort time to work.",
            "Every step forward counts.",
            "Focus on progress, not perfection.",
            "Daily effort builds long-term success.",
            "Discipline creates freedom over time.",
            "Action creates clarity.",
            "Show up even on difficult days.",
            "Results follow consistent effort.",
            "Work quietly and let progress speak.",
            "Focus is your greatest advantage.",
            "Success rewards persistence.",
            "Do the work even when motivation fades.",
            "Small wins build confidence.",
            "Time respects consistent effort.",
            "Progress comes from steady action.",
            "Stay committed to the process.",
            "Growth requires patience and effort.",
            "Your habits shape your future.",
            "Focus turns intention into results.",
            "Start now and improve along the way.",
            "Effort today creates opportunities tomorrow.",
            "Success is built, not discovered.",
            "Work with intention and clarity.",
            "Consistency beats intensity over time.",
            "Progress favors discipline.",
            "Every day is a chance to improve.",
            "Focus on what truly matters.",
            "Effort compounds when repeated.",
            "Discipline keeps you moving forward.",
            "Stay patient and persistent.",
            "Success is a daily choice.",
            "Small steps lead to big change.",
            "Progress begins with action.",
            "Show up and stay focused.",
            "Work steadily toward your goals.",
            "Effort builds strength and confidence.",
            "Stay consistent to see results.",
            "Focus fuels progress.",
            "Action today leads to growth tomorrow.",
            "Success comes from sustained effort.",
            "Do the work with purpose.",
            "Progress grows with consistency.",
            "Focus creates momentum.",
            "Discipline shapes outcomes.",
            "Effort earns results.",
            "Stay focused and move forward.",
            "Success favors consistency.",
            "Progress is earned daily."
        ];

        // Global Variables
        let currentMode = 'clock';
        let timeFormat = '24';
        let showSeconds = true;
        let quoteIndex = 0;
        let quoteInterval;
        let quoteSpeed = 60000; // 1 minute
        let timerInterval;
        let timerSeconds = 1500; // 25 minutes
        let timerRunning = false;
        let totalTimerSeconds = 1500;
        let sessionsToday = 0;
        let soundEnabled = true;
        let autoStartBreak = false;
        let focusMode = false;

        // Initialize
        window.onload = function() {
            loadSettings();
            updateClock();
            updateDate();
            updateGreeting();
            updateQuote();
            startQuoteRotation();
            updateProgressRing(); // Initialize progress ring
            
            setInterval(updateClock, 1000);
            setInterval(updateGreeting, 60000);
            
            // Show keyboard hints briefly
            setTimeout(() => {
                document.getElementById('shortcutsHint').classList.add('show');
                setTimeout(() => {
                    document.getElementById('shortcutsHint').classList.remove('show');
                }, 3000);
            }, 1000);
        };

        // Clock Functions
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            let ampm = '';

            if (timeFormat === '12') {
                ampm = hours >= 12 ? ' PM' : ' AM';
                hours = hours % 12;
                hours = hours ? hours : 12;
            }

            const timeString = showSeconds 
                ? `${pad(hours)}:${pad(minutes)}:${pad(seconds)}${ampm}`
                : `${pad(hours)}:${pad(minutes)}${ampm}`;
            
            document.getElementById('clock').textContent = timeString;
        }

        function updateDate() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', options);
            const dayString = now.toLocaleDateString('en-US', { weekday: 'long' });
            
            document.getElementById('date').textContent = dateString;
            document.getElementById('day').textContent = dayString;
        }

        function updateGreeting() {
            const hour = new Date().getHours();
            let greeting = '';
            
            if (hour < 12) {
                greeting = 'Good Morning';
            } else if (hour < 18) {
                greeting = 'Good Afternoon';
            } else {
                greeting = 'Good Evening';
            }
            
            document.getElementById('greeting').textContent = `Hello, ${greeting}`;
        }

        function pad(num) {
            return num.toString().padStart(2, '0');
        }

        // Quote Functions
        function updateQuote() {
            const quoteElement = document.getElementById('quote');
            quoteElement.style.opacity = '0';
            
            setTimeout(() => {
                quoteElement.textContent = `"${quotes[quoteIndex]}"`;
                quoteElement.style.opacity = '0.8';
                quoteIndex = (quoteIndex + 1) % quotes.length;
            }, 500);
        }

        function startQuoteRotation() {
            if (quoteInterval) clearInterval(quoteInterval);
            if (quoteSpeed > 0) {
                quoteInterval = setInterval(updateQuote, quoteSpeed);
            }
        }

        function setQuoteSpeed(seconds) {
            quoteSpeed = seconds * 1000;
            startQuoteRotation();
            updateToggleButtons(document.querySelectorAll('.setting-group')[4].querySelectorAll('.toggle-option'), seconds === 30 ? 0 : seconds === 60 ? 1 : seconds === 300 ? 2 : 3);
        }

        // Mode Switching
        function switchMode(mode) {
            currentMode = mode;
            const clockSection = document.getElementById('clockSection');
            const pomodoroSection = document.getElementById('pomodoroSection');
            const modeButtons = document.querySelectorAll('.mode-btn');
            
            if (mode === 'clock') {
                clockSection.style.display = 'block';
                pomodoroSection.style.display = 'none';
                modeButtons[0].classList.add('active');
                modeButtons[1].classList.remove('active');
            } else {
                clockSection.style.display = 'none';
                pomodoroSection.style.display = 'block';
                modeButtons[0].classList.remove('active');
                modeButtons[1].classList.add('active');
                updateTimerDisplay();
            }
        }

        // Pomodoro Timer Functions
        function startTimer() {
            if (!timerRunning) {
                timerRunning = true;
                timerInterval = setInterval(() => {
                    if (timerSeconds > 0) {
                        timerSeconds--;
                        updateTimerDisplay();
                        updateProgressRing();
                    } else {
                        completeTimer();
                    }
                }, 1000);
            }
        }

        function pauseTimer() {
            timerRunning = false;
            clearInterval(timerInterval);
        }

        function resetTimer() {
            pauseTimer();
            timerSeconds = totalTimerSeconds;
            updateTimerDisplay();
            updateProgressRing();
        }

        function completeTimer() {
            pauseTimer();
            sessionsToday++;
            updateSessionCounter();
            
            if (soundEnabled) {
                playNotificationSound();
            }
            
            alert('Timer completed! Great work! üéâ');
            
            if (autoStartBreak) {
                setPreset(5);
                startTimer();
            } else {
                resetTimer();
            }
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timerSeconds / 60);
            const seconds = timerSeconds % 60;
            document.getElementById('timerDisplay').textContent = `${pad(minutes)}:${pad(seconds)}`;
        }

        function updateProgressRing() {
            const circle = document.getElementById('progressCircle');
            const radius = 180;
            const circumference = 2 * Math.PI * radius;
            const progress = timerSeconds / totalTimerSeconds;
            const offset = circumference * (1 - progress);
            
            circle.style.strokeDasharray = `${circumference} ${circumference}`;
            circle.style.strokeDashoffset = offset;
        }

        function setPreset(minutes) {
            pauseTimer();
            totalTimerSeconds = minutes * 60;
            timerSeconds = totalTimerSeconds;
            updateTimerDisplay();
            updateProgressRing();
        }

        function customTimer() {
            const minutes = prompt('Enter custom timer duration (in minutes):');
            if (minutes && !isNaN(minutes) && minutes > 0) {
                setPreset(parseInt(minutes));
            }
        }

        function updateSessionCounter() {
            document.getElementById('sessionCounter').textContent = `Sessions today: ${sessionsToday}`;
        }

        function playNotificationSound() {
            // Create a simple beep sound
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = 800;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.5);
        }

        // Settings Functions
        function openSettings() {
            document.getElementById('settingsModal').style.display = 'flex';
        }

        function closeSettings() {
            document.getElementById('settingsModal').style.display = 'none';
        }

        function applySettings() {
            saveSettings();
            closeSettings();
        }

        function toggleShortcuts() {
            const content = document.getElementById('shortcutsContent');
            const arrow = document.getElementById('shortcutArrow');
            content.classList.toggle('open');
            arrow.textContent = content.classList.contains('open') ? '‚ñ≤' : '‚ñº';
        }

        function toggleCredits() {
            const content = document.getElementById('creditsContent');
            const arrow = document.getElementById('creditArrow');
            content.classList.toggle('open');
            arrow.textContent = content.classList.contains('open') ? '‚ñ≤' : '‚ñº';
        }

        function setTimeFormat(format) {
            timeFormat = format;
            updateToggleButtons(document.querySelectorAll('.setting-group')[1].querySelectorAll('.toggle-option'), format === '24' ? 0 : 1);
            updateClock();
        }

        function toggleSeconds() {
            const checkbox = document.getElementById('showSecondsCheck');
            showSeconds = checkbox.checked;
            updateClock();
        }

        function updateFontSize(size) {
            document.getElementById('fontSizeValue').textContent = size + 'px';
            document.getElementById('clock').style.fontSize = size + 'px';
            document.getElementById('timerDisplay').style.fontSize = size + 'px';
        }

        function updateOpacity(value) {
            document.getElementById('opacityValue').textContent = value + '%';
            const opacity = value / 100 * 0.5; // Max 0.5 opacity
            document.querySelector('.pomodoro-container').style.background = `rgba(0, 0, 0, ${opacity})`;
        }

        function toggleSound() {
            const checkbox = document.getElementById('soundCheck');
            soundEnabled = checkbox.checked;
        }

        function toggleAutoStart() {
            const checkbox = document.getElementById('autoStartCheck');
            autoStartBreak = checkbox.checked;
        }

        function loadSpotify(url) {
            // Extract playlist ID from URL
            let embedUrl = url;
            if (url.includes('open.spotify.com/playlist/')) {
                const playlistId = url.split('playlist/')[1].split('?')[0];
                embedUrl = `https://open.spotify.com/embed/playlist/${playlistId}`;
            }
            
            const iframe = `<iframe style="border-radius:12px; width: 100%; height: 100%;" src="${embedUrl}" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`;
            document.getElementById('spotifyPlayer').innerHTML = iframe;
        }

        function updateToggleButtons(buttons, activeIndex) {
            buttons.forEach((btn, index) => {
                if (index === activeIndex) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }

        // Save/Load Settings
        function saveSettings() {
            const settings = {
                timeFormat,
                showSeconds,
                quoteSpeed,
                soundEnabled,
                autoStartBreak,
                fontSize: document.getElementById('fontSizeSlider').value,
                opacity: document.getElementById('opacitySlider').value
            };
            localStorage.setItem('productivitySettings', JSON.stringify(settings));
        }

        function loadSettings() {
            const savedSettings = localStorage.getItem('productivitySettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);
                timeFormat = settings.timeFormat || '24';
                showSeconds = settings.showSeconds !== undefined ? settings.showSeconds : true;
                quoteSpeed = settings.quoteSpeed || 60000;
                soundEnabled = settings.soundEnabled !== undefined ? settings.soundEnabled : true;
                autoStartBreak = settings.autoStartBreak || false;
                
                document.getElementById('showSecondsCheck').checked = showSeconds;
                document.getElementById('soundCheck').checked = soundEnabled;
                document.getElementById('autoStartCheck').checked = autoStartBreak;
                
                if (settings.fontSize) {
                    document.getElementById('fontSizeSlider').value = settings.fontSize;
                    updateFontSize(settings.fontSize);
                }
                
                if (settings.opacity) {
                    document.getElementById('opacitySlider').value = settings.opacity;
                    updateOpacity(settings.opacity);
                }
            }
        }

        // Keyboard Shortcuts
        document.addEventListener('keydown', function(e) {
            // Settings (S key)
            if (e.key === 's' || e.key === 'S') {
                if (document.getElementById('settingsModal').style.display !== 'flex') {
                    openSettings();
                }
            }
            
            // Focus Mode (F key)
            if (e.key === 'f' || e.key === 'F') {
                toggleFocusMode();
            }
            
            // Start/Pause Timer (Space)
            if (e.key === ' ' && currentMode === 'pomodoro') {
                e.preventDefault();
                if (timerRunning) {
                    pauseTimer();
                } else {
                    startTimer();
                }
            }
            
            // Close Settings (Escape)
            if (e.key === 'Escape') {
                closeSettings();
            }
        });

        // Focus Mode
        function toggleFocusMode() {
            focusMode = !focusMode;
            document.body.classList.toggle('focus-mode');
        }

        // Fullscreen
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // Close settings when clicking outside
        document.getElementById('settingsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSettings();
            }
        });
    </script>
</body>
</html>
